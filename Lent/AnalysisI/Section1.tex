\section{Limits and convergence}
\subsection{Review for Numbers and Sets}
\begin{enumerate}[align=left]
    \item[\textit{Sequences}.] $ a_n, (a_n)_{n=1}^{\infty}, a_n\in \mathbb{R}  $. $ a_n\to a $ as $n\to \infty$ if $ \forall \epsilon>0, \exists N $ such that $ \forall n\ge N, |a_n-a|<\epsilon $. $N$ dependents on $\epsilon$. 
    \item[\textit{Monotone sequences}.] $ a_n\le a_{n+1} $ or $ a_n\ge a_{n+1} $. No ``equal'' is in the relation if we add ``strictly''.
    \item[\textit{Fundamental axiom of the real numbers}.] If $ a_n\in \mathbb{R}  $, $ \forall n\ge 1 $, $A\in \mathbb{R}$, $ a_n \nearrow $ and $ \forall i, a_i\le A $ then $ \exists a\in \mathbb{R} $ such that $a_n\to a$. ``An increasing sequence of real numbers bounded above converges.'' Equivalent for decreasing sequences. Equivalent also to ``every non-empty set of real numbers bounded above has a supremum'', the least upper bound property.
    \item[\textit{Supremum and infimum}.] For $ S \subseteq \mathbb{R}, S\neq \varnothing  $, $ \sup S=k $ if $ \forall x\in S, x\le k $ and $ \forall \epsilon>0, \exists x\in S $ such that $ x>k-\epsilon $. Similar for infimum.
    \item[\textit{Extension to $\mathbb{C}$}.] The above things make perfect sense for $ a_n\in \mathbb{C} $, with $ |\cdot| $ defined as modulus. However, complex numbers \textit{do not} have an order.
\end{enumerate}

Several useful deductions:
\begin{lemma}\label{lma:1.1}
    \begin{enumerate}
        \item The limit is unique.
        \item $ a_n\to a $ and $n_1<n_2<n_3<\cdots$ then $ a_{n_j}\to a $.
        \item If $ a_n\equiv n $ then $a_n\to c$.
        \item Convergent sequences are bounded.
        \item If $ a_n\to a,b_n\to b $ then $ a_n\pm b_n\to a\pm b $ and $ a_nb_n\to ab, a_n/b_n\to a/b $ for $b_n\neq 0$.
        \item If $ a_n\le A $ and $a_n\to a$, then $a\le A$.
    \end{enumerate}
\end{lemma}
\begin{lemma}[Archimedes]\label{lma:1.2}
    $ 1/n\to 0 $ as $ n\to \infty $.
\end{lemma}
\begin{proof}
    See Numbers and Sets.
\end{proof}

\subsection{Properties of the reals}
\begin{theorem}[Bolzano-Weierstrass]\label{thm:bolzano-weierstrass}
    If $ x_n\in \mathbb{R} $ and there exists $K$ such that
    \[
        \left| x_n \right| \le K,\quad \forall n,
    \]
    then we can find $ n_1<n_2<\cdots $ and $x\in \bbR$ such that 
    \[
        x_{n_j} \to x, \quad \text{as } j\to \infty.
    \]
    In other words, \textit{every bounded sequence has a convergent subsequence}.
\end{theorem}
\begin{remark}
    This says \textit{nothing} about uniqueness of the limit. e.g. $x_n=(-1)^n$.
\end{remark}
\begin{proof}
    Set $ [a_1,b_1] = [-K,K] $ and $ c=(a_1+b_1)/2 $. Consider the following alternatives:
    \begin{enumerate}
        \item $ x_n\in [a_1,c] $ for \textit{infinitely} many values of $n$.
        \item $ x_n\in [c,b_1] $ for \textit{infinitely} many values of $n$.
    \end{enumerate}
    Note that 1. and 2. could hold at the same time. If 1. holds, we set $a_2=a_1, b_2=c$. If 1. fails, then 2. must hold and we set $a_2=c,b_2=b_1$. Inductively, we construct sequences $ a_n,b_n $ such that $ x_m\in [a_n,b_n] $ for infinitely many values of $m$. By construction, 
    \begin{equation}\label{eq:bolzano-weierstrass-proof}\tag{$*$}
        a_{n-1}\le a_n\le b_n\le b_{n-1}\quad\text{and}\quad b_n-a_n = \frac{b_{n-1}-a_{n-1}}{2}.
    \end{equation}
    Now $a_n \nearrow$, $b_n \searrow$ and both are bounded, we know that 
    \[
        a_n\to a\in [a_1,b_1] \quad \text{and}\quad b_n \to b\in [a_1,b_1].
    \]
    By (\ref{eq:bolzano-weierstrass-proof}), $ b-a=\frac{b-a}{2} \Rightarrow b=a $.

    Since every $[a_n,b_n]$ has infinitely many $x_m$, having chosen $ x_{n_j}\in [a_j,b_j] $, $ \exists n_{j+1}>n_j $ such that $ x_{n_{j+1}}\in [a_{j+1},b_{j+1}] $. Hence 
    \[
        a_j\le x_{n_j}\le b_j \Rightarrow x_{n_j}\to a.
    \]
    This is a convergent subsequence, as required.
\end{proof}

\begin{definition}[Cauchy sequences]
    $a_n\in \bbR$ is called a \textbf{Cauchy sequence} if 
    \[
        \forall \epsilon>0, \exists N>0: \forall n,m\ge N, \left| a_n-a_m \right| <\epsilon.
    \]
\end{definition}

\begin{lemma}\label{lma:convergent -> cauchy}
    A convergent sequence is a Cauchy sequence.
\end{lemma}
\begin{proof}
    Given $ a_n\to a $, $ \forall \epsilon>0, \exists N: \forall n\ge N, |a_n-a|<\frac{\epsilon}{2} $. Take $m,n\ge N$ and by triangular inequality,
    \[
        |a_n-a_m|\le |a_n-a|+|a_m-a|<\epsilon.
    \]
\end{proof}

\begin{theorem}\label{thm:cauchy -> convergent}
    Every Cauchy sequence converges.
\end{theorem}
\begin{proof}
    Claim that Cauchy sequences are bounded. Let $a_n$ be a Cauchy sequence. Take $\epsilon=1$ and $N=N(1)$, then $ \forall n,m\ge N, |a_n-a_m|<1 $. Then
    \[
        |a_m|\le |a_m-a_N|+|a_N|<1+|a_N|, \quad \forall m\ge N.
    \]
    Take $ K= \max\{|a_1|,\dots,|a_{N-1}|, 1+|a_N|\} $, then $|a_n|\le K$.

    By the Bolzano-Weierstrass theorem, $ a_{n_j}\to a $. Claim that $a_n\to a$. Indeed, given $ \epsilon>0 $, $ \exists j_0 $ such that $ \forall j\ge j_0, |a_{n_j}-a|<\epsilon/2 $. Also $ \exists N(\epsilon) $ such that $ \forall m,n\ge N, |a_m-a_n|<\epsilon/2 $. Therefore, take $j$ such that $ n_j\ge \max \{N, n_{j_0}\} $ we have
    \[
        \left| a_n-a \right| \le \left| a_n-a_{n_j} \right| + \left| a_{n_j} -a\right| < \epsilon,
    \]
    as required.
\end{proof}
\begin{note}
    Thus on $ \mathbb{R} $, $ \text{convergent} \Leftrightarrow \text{Cauchy} $. This is known as the \textbf{general principle of convergence}.
\end{note}

\subsection{Series}

\begin{definition}[Series]
    Let $ a_n\in \mathbb{R} \text{ or } \mathbb{C} $. We say that 
    \[
        \sum_{j=1}^{\infty}a_j \text{ converges to } s \Longleftrightarrow s_N = \sum_{j=1}^{N} a_j \to s \text{ as }N\to \infty.
    \]
    We write 
    \[
        \sum_{j=1}^{\infty} a_j=s.
    \]
    If $s_N$ diverges, we say that $\sum_{j=1}^{\infty} a_j$ diverges.
\end{definition}
\begin{remark}
    Any problem in series can be turned into a problem in sequences by considering partial sums.
\end{remark}

\begin{lemma}\label{lma:1.6} 
    Let $ a_n,b_n\in \mathbb{C} $.
    \begin{enumerate}
        \item If $ \sum_{j=1}^{\infty}a_j,\sum_{j=1}^{\infty}b_j$ converge, then so does $ \sum_{j=1}^{\infty}\lambda a_j+\mu b_j$, where $ \lambda,\mu\in \mathbb{C} $.
        \item Suppose $ \exists N $ such that $ \forall j\ge N, a_j=b_j $, then either $ \sum_{j=1}^{\infty}a_j,\sum_{j=1}^{\infty}b_j$ both converge or they both diverge\footnote{Initial terms do not matter.}.
    \end{enumerate}
\end{lemma}
\begin{proof}
    For 1. note that 
    \begin{align*}
        s_N &= \sum_{j=1}^{N}\lambda a_j+\mu b_j = \lambda \sum_{j=1}^{N}a_j + \mu \sum_{j=1}^{N}b_j\\ 
        &= \lambda c_N + \mu d_N \to \lambda c+ \mu d.
    \end{align*}

    For 2. let $n\ge N$,
    \begin{align*}
        s_n &= \sum_{j=1}^{n} a_j = \sum_{j=1}^{N-1}a_j+\sum_{j=N}^{n}a_j,\\ 
        t_n &= \sum_{j=1}^{n} b_j = \sum_{j=1}^{N-1}b_j+\sum_{j=N}^{n}b_j.
    \end{align*}
    Hence 
    \[
        s_n-t_n = \sum_{j=1}^{N-1}a_j-\sum_{j=1}^{N-1}b_j=\text{constant}.
    \]
    Therefore they both converge or diverge.
\end{proof}

\begin{sprop}
    $ x^n\to 0 $ if $|x|<1$.
\end{sprop}
\begin{proof}
    Wlog, let $0<x<1$. Write $ 1/x=1+\delta $, where $ \delta>0 $. Then 
    \[
        x^n = \frac{1}{(1+\delta)^n}\le \frac{1}{1+n\delta}\to 0,
    \]
    where the last inequality comes from the fact that 
    \[
        (1+\delta)^{n} = \sum_{i=0}^{n} \binom{n}{i}\delta^i\ge 1+\binom{n}{1}\delta=1+n\delta,
    \]
    known as the \textbf{Bernoulli's inequality}.
\end{proof}

\begin{example}[Geometric series]
    Set $a_n=x^{n-1}$, then 
    \[
        s_n=\sum_{j=1}^{n}a_j=\sum_{j=0}^{n-1}x^j= \begin{cases}
        \frac{1-x^n}{1-x} &\text{if } x\neq 1\\
        n &\text{if }x=1\\
        \end{cases}
        \to \begin{cases}
            \frac{1}{1-x} &\text{if } |x|<1,\\
            \infty &\text{if } x\ge 1,\\
            \text{oscillates} &\text{if } x\le -1.\\
            \end{cases} 
    \]
    Thus a geometric series converges if and only if $|x|<1$.
\end{example}
\begin{note}
    $s_n\to \infty(-\infty): \forall A>0, \exists N: \forall n\ge N, s_n>(<)A(-A) $. If $s_n$ does not converge or $\to \pm \infty$, we say $s_n$ \textit{oscillates}.
\end{note}

\begin{lemma}\label{lma:1.7}
    If $ \sum_{n=1}^{\infty}a_n$ converges, then $ \lim_{n \to \infty} a_n=0$. 
\end{lemma}
\begin{proof}
    Note that $ a_n=s_{n}-s_{n-1}\to 0 $.
\end{proof}
\begin{remark}
    If $ \lim_{n \to \infty} a_n=0$, it is \textit{not} generally true that $ \sum_{n=1}^{\infty}a_n$ converges.
\end{remark}
\begin{sprop}[Harmonic series]
    $ \displaystyle \sum_{n=1}^{\infty}\frac{1}{n} $ diverges.
\end{sprop}
\begin{proof}
    Note that 
    \[
        s_{2n}=s_{n}+\frac{1}{n+1}+\cdots +\frac{1}{2n}>s_{n}+\sum_{k=n+1}^{2n}\frac{1}{2n}=s_n+\frac{1}{2},
    \]
    so it diverges.
\end{proof}

\subsubsection*{Series of non-negative terms}
Throughout this part, assume $a_n\ge 0$.

\begin{theorem}[Comparison test]\label{thm:Comparison test}
    Suppose $ 0\le b_n\le a_n, \forall n $. Then if $ \sum_{n=1}^{\infty} a_n $ converges, so does $\sum_{n=1}^{\infty} b_n$.
\end{theorem}
\begin{proof}
    Let $ s_N=\sum_{n=1}^{N}a_n, b_N=\sum_{n=1}^{N}b_n $, then $ d_N\le s_N $. But $s_N\to s$, then 
    \[
        d_N\le s_N\le s, \quad\forall N.
    \]
    Also $ d_N $ is increasing, so it converges.
\end{proof}

\begin{example}
    Consider $ \sum_{n=1}^{\infty}\frac{1}{n^2} $. Note that 
    \[
        \frac{1}{n^2}<\frac{1}{n(n-1)} = \frac{1}{n-1}-\frac{1}{n} = a_n
    \]
    for $n\ge 2$, and that
    \[
        \sum_{n=2}^{N} a_n = 1-\frac{1}{N}\to 1,
    \]
    so $ \sum_{n=1}^{\infty}a_n $ converges and thus $ \sum_{n=1}^{\infty}\frac{1}{n^2} $ converges\footnote{See \href{https://www.cnblogs.com/misaka01034/p/BaselProof.html}{this article} and \href{https://www.math.cmu.edu/~bwsulliv/basel-problem.pdf}{this article}.}.
\end{example}

\begin{theorem}[Root test/Cauchy's test]\label{thm:Root test}
    Assume $a_n\ge 0$ and $ (a_n)^{1/n}\to a $, then if $a<1$, then $ \sum_{n=1}^{\infty}a_n$ converges. If $ a>1 $, then $\sum_{n=1}^{\infty}a_n$ diverges.
\end{theorem}
\begin{remark}
    If $a=1$, then the root test does not work.
\end{remark}
\begin{proof}
    If $ a<1 $, choose $r$ such that $a<r<1$. Then there exists $N$ that 
    \[
        \forall n\ge N, (a_n)^{1/n}<r \Longrightarrow a_n<r^n.
    \]
    Since $ \sum r^n $ converges, $\sum a_n$ converges by comparison test. If $a>1$ then $a_n>1\nrightarrow 0$, so $\sum a_n$ diverges.
\end{proof}

\begin{theorem}[Ratio test/D'Alembert's test]\label{thm:Ratio test}
    Suppose $a_n>0$ and $ \frac{a_{n+1}}{a_n}\to \ell $. If $ \ell <1 $, then $ \sum a_n $ converges and if $ \ell >1 $, $ \sum a_n $ diverges.
\end{theorem}
\begin{note}
    If $\ell=1$, the ratio test does not work.
\end{note}
\begin{proof}
    Suppose $\ell<1$ and choose $\ell<r<1$. Then
    \[
        \exists N, \forall n\ge N: \frac{a_{n+1}}{a_n}<r \Longrightarrow a_n = \frac{a_n}{a_{n-1}}\frac{a_{n-1}}{a_{n-2}}\cdots \frac{a_{N+1}}{a_{N}}a_N<a_N r^{n-N} .
    \]
    By comparison test, $ \sum a_n $ converges. If $ \ell >1 $, choose $\ell>r>1$. Then $ \exists N, \forall n\ge N, \frac{a_{n+1}}{a_n}>r $, so 
    \[
        a_n = \frac{a_n}{a_{n-1}}\frac{a_{n-1}}{a_{n-2}}\cdots \frac{a_{N+1}}{a_{N}}a_N>a_N r^{n-N}\to \infty.
    \]
    Hence $ \sum a_n $ diverges.
\end{proof}